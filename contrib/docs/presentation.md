# Презентация (чтоб им всем пусто было)

## 1. Вступление

Добрый день. Меня зовут `username`, и я хочу представить вашему вниманию дипломный проект по теме "Web-приложение «GPTranslate» для перевода текста ограниченного объёма с иностранного языка с применением сервиса «g4f»". В рамках данного проекта было разработано веб-приложение для многоязычного текстового перевода с использованием сторонних публичных моделей искусственного интеллекта, доступных через API. [20s]

Данный проект объединяет современные технологии и инновационные подходы, позволяя удобно и эффективно создавать, переводить и управлять большими объемами текстовой информации. В ходе презентации я расскажу о ключевых особенностях приложения, его архитектуре, используемых технологиях, а также о преимуществах, которые оно предоставляет по сравнению с существующими решениями в области машинного перевода. [17s]

Я считаю, что данная работа будет полезна не только с технической точки зрения, но и как пример прикладного использования нейронных сетей для решения задач в сфере обработки естественного языка. [9s]

## 2. Проблемы существующих решений

Для начала стоит выделить ключевые, даже фатальные недостатки существующих решений. Представьте, что вы физическое или юридическое лицо, которому необходимо поддерживать несколько региональных версий своих блогов или порталов. Или, например, издательство, желающее сократить издержки на перевод иностранной литературы без заметной потери качества. Можно было бы просто использовать любой существующий переводчик, но у большинства из них имеются следующие проблемы. [21s]

- Во-первых, большинство существующих сервисов не раскрывают информацию о том, какие именно технологии используются для перевода. В частности, они не предоставляют данных о своих алгоритмах или, если они применяют языковые модели, то о конкретных языковых моделях. Также они не предоставляют выбор, при помощи чего осуществлять перевод. Это затрудняет понимание качества и возможностей перевода, а также ограничивает возможность адаптации под специфические задачи клиента. [22s]
  - В разработанном приложении пользователь может выбирать из списка доступных моделей. Например, я знаю, что модель А хорошо передаёт технические детали, но плохо подходит для художественных текстов, а модель Б - наоборот. Так я как пользователь могу выбирать инструмент, который лучше подходит под конкретную задачу. [13s]

- Во-вторых, распространённые системы часто не предлагают никакой настройки процесса перевода.
  - В разработанном приложении пользователь может выбирать один из предоставленных промптов (иными словами, стилей перевода), которые применяются при запросах к моделям и позволяют в некоторых рамках менять конечный результат в нужную сторону: например, при переводе технической документации или художественной литературы. [18s]

- В-третьих, многие решения не предусматривают структурированного хранения переведённых материалов, ограничиваясь историей перевода.
  - Разработанное приложение строится вокруг сущностей "статья", которые можно просматривать, создавать, изменять и удалять за ненадобностью. Также статьи структурированы таким образом, чтобы пользователь мог легко получать только переводы нужной статьи. [17s]

Таким образом, разработанное приложение решает вышеперечисленные проблемы, предоставляя прозрачность, гибкость и эффективное управление данными, что существенно повышает удобство использования сервиса. [9s]

## 3. Сервис gpt4free

Для доступа к LLM, или большим языковым моделям, по API применяется сервис "Gpt4free". Он позволяет объединять множество провайдеров за единым фасадом, изменять сценарии доступа к отдельным провайдерам и добавлять новых, даже позволяя использовать локально запущенные LLM. Это ключевой компонент, благодаря которому приложение может работать с большинством провайдеров, таких как OpenAI, Anthropic, Vertex AI и других, без необходимости настраивать подключение к каждому из них отдельно. Это позволяет динамически переключаться между ними, выбирать наиболее подходящую модель для конкретной задачи и балансировать качество перевода и затраты на ресурсы. Кроме того, использование такого сервиса обеспечивает возможность масштабирования и гибкой настройки в зависимости от требований клиента. [36s]

Использование данного сервиса снижает сложность разработки и поддержки системы, поскольку реализация большого количества различных API возлагается на сервис, а разработанное приложение фокусируется на бизнес-логике. В итоге пользователь получает доступ к широкому спектру возможностей перевода с более высокой степенью персонализации и контроля. [15s]

## 4. Основные функциональные возможности

На данном слайде я хотел бы подробно остановиться на основных функциональных возможностях разработанного веб-приложения. Прежде всего, система предоставляет полный набор операций для работы со статьями – создание, чтение, обновление и удаление. Это позволяет пользователям управлять оригинальными текстами, которые впоследствии подлежат переводу, и полученными переводами. [17s]

Ключевая функция приложения — одновременный перевод статьи на несколько языков. Это обеспечивает масштабируемость и экономит время, позволяя получать сразу полный набор локализованных версий документа без необходимости повторного запуска процесса для каждого языка. Все переводы сохраняются структурировано и доступны для последующего просмотра или редактирования. [16s]

Кроме того, для ускорения запуска перевода пользователь может создавать конфигурации из модели, стиля перевода и языков, на которые нужно перевести текст. Это избавляет от выбора данных параметров при каждом запуске перевода и экономит время, а что важнее -- нервы пользователя. [13s]

Особое внимание уделено механизму жалоб, который служит инструментом обратной связи. Если пользователь считает, что качество перевода не соответствует ожиданиям или содержит ошибки, он может создать жалобу, которая становится доступна модераторам. [11s]

Последний тип пользователей -- администратор -- может управлять пользователями, моделями и промптами в специальной панели, а также получать статистику жалоб по каждой модели и промпту. [8s]

## 5. Использованные технологии

На данном слайде я хотел бы подробно остановиться на ключевых технологиях, использованных при разработке веб-приложения, обеспечивающих его надежность, производительность и масштабируемость. [8s]

Во-первых, серверная часть реализована с использованием **FastAPI** — современного высокопроизводительного фреймворка для разработки веб-приложений на языке Python. FastAPI обеспечивает быстрое написание кода с минимальными задержками, а также поддерживает асинхронное выполнение задач, что увеличивает производительность в работе с внешними API и масштабируемыми сервисами. [16s]

Для хранения структурированных данных приложение использует СУБД **PostgreSQL** — одну из самых популярных реляционных систем управления базами данных с открытым исходным кодом, огромным сообществом и множеством инструментов для работы с ней. Она обладает мощным набором функциональных возможностей, позволяя хранить и индексировать статьи, конфигурации, данные пользователей и прочие данные, которыми управляет приложение. [20s]

Для организации очередей и асинхронной обработки задач применяется брокер сообщений **RabbitMQ**. Он обеспечивает надежную коммуникацию между компонентами системы — например, отправку задач на перевод и рассылку писем по электронной почте, разгружая основной сервер и повышая общую отзывчивость приложения. [13s]

## 6. Вспомогательные технологии

Кроме того, в работе с данными активно используется библиотека **SQLAlchemy** — ORM для Python, которая упрощает взаимодействие с базой данных и повышает читаемость кода. Она также позволяет строить сложные запросы с сортировкой и фильтрацией по различным условиям на языке Python. [12s]

Для валидации и сериализации данных на сервере используется **Pydantic** — мощная библиотека, которая обеспечивает строгие проверки и приведение типов, что значительно снижает вероятность ошибок при работе с API. Также данная библиотека отлично интегрируется с FastAPI: модели Pydantic в качестве типа данных любого из параметров конечной точки включает автоматическую валидацию входящих данных согласно этой модели, а также добавляет соответствующую схему в документацию OpenAPI, генерируемую фреймворком при запуске приложения. [23s]

Для управления миграциями базы данных использовался инструмент Alembic, позволяющий отслеживать состояние базы данных и изменять его при обнаружении изменений в её схеме, описанной моделями SQLAlchemy. Данный инструмент также позволяет обращать миграции вспять, что позволяет команде разработчиков удобно работать с разными версиями базы данных и обеспечивает повторяемость схемы базы данных при установке на разных машинах. [18s]

Для хранения временных данных использовалась нереляционная СУБД типа "ключ-значение" Redis. Она позволяет хранить значения по ключу и задавать им время жизни. В разработанном приложении она применялась для хранения чёрного списка JWT токенов, использующихся для аутентификации пользователей. Также данная СУБД может выступать в роли легковесного брокера сообщений, и в приложении в таком качестве она применялась для доставки уведомлений для пользователя из вспомогательных контейнеров в конечную точку сервера, поддерживающую соединение с клиентом по протоколу WebSocket. [25s]

## 7. Архитектура

Далее я хотел бы подробнее рассказать об архитектуре разработанного веб-приложения. [4s]

Архитектура приложения построена по принципу распределённой системы с четким разделением ответственности между компонентами. Внешний пользовательский интерфейс реализован в виде клиентского приложения, работающего в веб-браузере, которое взаимодействует с сервером через защищённые HTTPS-соединения. Для обработки запросов используется сервер NGINX, который выступает в роли обратного прокси, скрывая за собой прочие компоненты системы, и отвечает за доставку статических файлов, таких как фронтенд-бандл. [22s]

Основная бизнес-логика размещена на главном монолитном сервере. Он отвечает за CRUD-операции с данными, управление процессами перевода и взаимодействие с прочими сервисами. [8s]

Для устойчивого и масштабируемого выполнения фоновых задач используется брокер сообщений RabbitMQ, описанный ранее. Он поддерживает работу двух очередей сообщений и служит координатором между API-сервером и отдельными консюмерами -- процессами, которые обрабатывают поступающие задачи, такие как перевод текстов и рассылка электронной почты. Такой асинхронный подход позволяет разгрузить основной сервер и повысить общую производительность системы. [19s]

Система хранения данных основана на реляционной СУБД PostgreSQL, которая обеспечивает надежное и эффективное хранение всех структурированных данных, включая статьи, переводы, отчёты и данные пользователей. [8s]

Кроме того, приложение взаимодействует с внешними API, в частности с сервисом gpt4free, по протоколу HTTP. [5s]

## 8. Взаимодействие с внешними API

На данном слайде более подробно показана схема выполнения асинхронных задач и взаимодействия системы с внешними API. Сообщения, поступающие брокеру, маршрутизируются в одну из двух очередей: для перевода и для рассылки почты. На схеме показано по одному консюмеру, но в случае необходимости может быть поднято больше экземпляров. После получения сообщения консюмеры делают запросы на нужные адреса: сервис рассылки электронной почты и СМС Unisender и описанный ранее сервис gpt4free. [22s]

## 9. Возможность пробного перевода (кастомизация под клиента)

На данном слайде демонстрируется стартовая страница приложения с блоком мгновенного перевода, который напоминает классический интерфейс Google Translate и прочих популярных переводчиков. Благодаря такой форме пользователи смогут делать быстрые, неавторизованные переводы с ограничением по количеству символов или числу использованных токенов в заранее определённый промежуток времени. Это удобно для пользователей, которым требуется оперативный и простой доступ к переводу без необходимости входить в систему и покупать токены. Для заказчика это предоставляет рекламу и демонстрацию возможностей сервиса, и пользователи, которых заинтересует данная особенность, могут начать пользоваться сервисом на постоянной основе и платить за токены, принося прибыль. [30s]

Если заказчику не нужна данная функциональность, она может быть отключена изменением одной переменной окружения при развёртывании приложения. [6s]

Данный блок производит перевод напрямую с главного сервера, имеет более жёсткие ограничения на объём текста, не сохраняет переводы и доступен даже неаутентифицированным пользователям. [7s]

## 10. Механизм жалоб

На данном слайде представлена страница жалобы на перевод статьи от лица модератора. Можно увидеть расположенные рядом друг с другом для удобства сравнения исходную и конечную статьи. Пользователь может указать причину, по которой ему не понравился перевод, для статистики использования, а также подробно описать свои претензии. [14s]

Кроме того, пользователю и модератору доступен чат, в котором они могут прояснить спорные вопросы, и пользователь может отказаться от своей претензии, а модератор может как отклонить, так и удовлетворить жалобу. При удовлетворении жалобы токены, потраченные на перевод данной статьи, возвращаются пользователю. [13s]

## 11. Административная панель

Администратор может управлять данными пользователей в случае, если клиент испытывает трудности, например, с регистрацией или требуется создать нового модератора. Также администратору доступно управление промптами и моделями перевода и просмотр аналитики по моделям и промптам, что поможет принять нужные решения по удалению модели, корректировке промпта и так далее. [16s]

## Заключение
